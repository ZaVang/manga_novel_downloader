# 漫画与小说下载器

一个集成了漫画下载和小说下载功能的应用程序，支持搜索、下载和EPUB导出。漫画来源为拷贝漫画，轻小说来源为轻小说文库。

## 功能特性

- **漫画下载器**：
  - 支持从拷贝漫画搜索和下载漫画
  - 浏览漫画章节
  - 导出为EPUB格式
  - 下载队列管理

- **小说下载器**：
  - 支持从轻小说文库搜索和下载小说
  - 按卷下载小说
  - 导出为EPUB格式
  - 下载队列管理

## 安装方法

1. 克隆或下载本仓库：
   ```
   git clone https://github.com/yourusername/manga_novel_downloader.git
   cd manga_novel_downloader
   ```

2. 安装依赖项：
   ```
   pip install -r requirements.txt
   ```

## 使用方法

启动应用程序：
```
python gui.py
```

### GUI使用指南

应用程序有两个主要选项卡：

1. **漫画下载器**：
   - **下载器**：在搜索框中输入漫画名称，点击搜索按钮。搜索结果会显示在下方列表中。双击选中漫画则会进入章节列表查看界面。可以选择章节进行下载。
   - **下载队列**：显示当前下载任务和进度，可以暂停、恢复或取消下载。
   - **EPUB导出**：选择已下载的漫画导出为EPUB格式，可以选择为每一话单独打包（即单独的文件夹），也可以选择将所有话一起打包（文件夹下有子文件夹，存储每一话的图片）
   - **设置**：配置下载路径、并发数等参数。

2. **小说下载器**：
   - 使用方法类似于漫画下载器。

### 注意事项与问题解决

- **路径问题**：如果在下载文件或导出EPUB时遇到路径问题，请执行以下操作：
  1. 手动创建相应的目录
  2. 或在设置中选择一个已存在的目录（不使用默认目录）
  3. 修改后在设置面板中点击"保存"按钮，下次启动将使用保存好的默认文件夹

- **轻小说下载**：
  1. 轻小说下载速度可能较慢，请耐心等待
  2. 如果遇到Cloudflare拦截，请等待几分钟后重试
  3. 下载过程中请不要关闭应用程序

## 打包应用程序

### Windows打包

在Windows上打包应用程序：

1. 确保已安装所有依赖：
   ```
   pip install -r requirements.txt
   pip install pyinstaller
   ```

2. 由于PowerShell默认的执行策略限制，可能需要临时绕过执行策略：
   ```
   Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process
   ```

3. 运行打包脚本：
   ```
   .\package_win.ps1
   ```

4. 打包完成后，可执行文件将位于`dist\windows\manga_novel_downloader`目录中。

### macOS打包

在macOS上打包应用程序：

1. 确保已安装所有依赖：
   ```
   pip install -r requirements.txt
   pip install pyinstaller
   ```

2. 运行打包脚本：
   ```
   chmod +x package_mac.sh
   ./package_mac.sh
   ```

3. 打包完成后，应用程序将位于`dist/mac`。


## 免责声明

- 本程序仅供学习和个人使用，严禁用于任何商业用途
- 下载的内容仅供个人学习和研究使用，请在下载后24小时内删除
- 请尊重版权，支持正版
- 使用本程序产生的任何风险和法律责任由使用者自行承担
- 本程序不存储任何下载内容在服务器上，所有内容均来自第三方网站
- 如有侵权，请联系开发者删除
